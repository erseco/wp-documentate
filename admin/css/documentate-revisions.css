/**
 * Documentate Revisions Diff Enhancement Styles
 *
 * Styles for field section headers in the WordPress revisions diff view.
 *
 * @package Documentate
 */

/* ============================================
   Field Section Header - Full Width Banner
   ============================================ */

.doc-field-header {
	display: block;
	width: 100%;
	margin: 0;
	padding: 10px 16px;
	background: linear-gradient(180deg, #f6f7f7 0%, #eaecee 100%);
	border-top: 2px solid #2271b1;
	border-bottom: 1px solid #c3c4c7;
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
	font-size: 13px;
	font-weight: 600;
	line-height: 1.4;
	color: #1d2327;
	box-sizing: border-box;
}

.doc-field-header__inner {
	display: flex;
	align-items: center;
	gap: 8px;
}

.doc-field-header__icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: 20px;
	height: 20px;
	background: #2271b1;
	border-radius: 3px;
	color: #fff;
	font-size: 10px;
	flex-shrink: 0;
}

.doc-field-header__label {
	color: #1d2327;
	font-weight: 700;
	font-size: 13px;
	text-transform: uppercase;
	letter-spacing: 0.3px;
}

.doc-field-header__hint {
	color: #646970;
	font-weight: 400;
	font-size: 11px;
	margin-left: auto;
}

/* Field Type Color Variants */
.doc-field-header--rich {
	border-top-color: #2271b1;
}

.doc-field-header--rich .doc-field-header__icon {
	background: #2271b1;
}

.doc-field-header--textarea {
	border-top-color: #00a32a;
}

.doc-field-header--textarea .doc-field-header__icon {
	background: #00a32a;
}

.doc-field-header--single {
	border-top-color: #dba617;
}

.doc-field-header--single .doc-field-header__icon {
	background: #dba617;
}

.doc-field-header--array {
	border-top-color: #9b59b6;
}

.doc-field-header--array .doc-field-header__icon {
	background: #9b59b6;
}

/* ============================================
   Table Integration
   ============================================ */

/* Make the header span nicely in table cells */
table.diff td .doc-field-header {
	margin: -4px -8px 8px -8px;
	width: calc(100% + 16px);
}

/* Deleted line variant - header styling */
td.diff-deletedline .doc-field-header {
	background: linear-gradient(180deg, #fff5f5 0%, #ffebeb 100%);
	border-top-color: #d63638;
}

td.diff-deletedline .doc-field-header__icon {
	background: #d63638;
}

td.diff-deletedline .doc-field-header__label {
	color: #8a2424;
}

/* Added line variant - header styling */
td.diff-addedline .doc-field-header {
	background: linear-gradient(180deg, #f0fff0 0%, #e5f5e5 100%);
	border-top-color: #00a32a;
}

td.diff-addedline .doc-field-header__icon {
	background: #00a32a;
}

td.diff-addedline .doc-field-header__label {
	color: #1a5a1c;
}

/* ============================================
   Preserve & Enhance WordPress Diff Styles
   ============================================ */

/*
 * WordPress revisions use side-by-side view:
 * - Left column (Removed): .diff-deletedline
 * - Right column (Added): .diff-addedline
 * - Changes within text: del/ins or .diffchange
 */

/* Deleted/Removed column - light red background */
table.diff td.diff-deletedline {
	background-color: #fef1f1 !important;
	border-left: 3px solid #d63638 !important;
}

/* Text that was removed (strikethrough content) */
table.diff td.diff-deletedline del,
table.diff td del.diffchange,
table.diff .diff-deletedline .diffchange {
	background-color: #f8d7da !important;
	color: #721c24 !important;
	text-decoration: line-through;
	padding: 1px 3px;
	border-radius: 2px;
}

/* Added column - light green background */
table.diff td.diff-addedline {
	background-color: #f0fdf0 !important;
	border-left: 3px solid #00a32a !important;
}

/* Text that was added (new content) */
table.diff td.diff-addedline ins,
table.diff td ins.diffchange,
table.diff .diff-addedline .diffchange {
	background-color: #d4edda !important;
	color: #155724 !important;
	text-decoration: none;
	padding: 1px 3px;
	border-radius: 2px;
}

/* Context rows (unchanged content) */
table.diff td.diff-context {
	background-color: #f9f9f9;
	color: #666;
}

/* ============================================
   Field Separator (between sections)
   ============================================ */

.doc-field-separator {
	display: block;
	width: 100%;
	height: 0;
	margin: 16px 0 8px 0;
	padding: 0;
	border: none;
	border-top: 1px dashed #c3c4c7;
}

table.diff td .doc-field-separator {
	margin: 12px -8px 8px -8px;
	width: calc(100% + 16px);
}

/* ============================================
   Legacy Badge Styles (fallback)
   ============================================ */

.doc-field-badge {
	display: none; /* Hide old badges if any remain */
}

/* ============================================
   Animation
   ============================================ */

@keyframes docFieldHeaderFadeIn {
	from {
		opacity: 0;
		transform: translateY(-4px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.doc-field-header {
	animation: docFieldHeaderFadeIn 0.2s ease-out;
}

/* ============================================
   High Contrast Mode
   ============================================ */

@media (prefers-contrast: high) {
	.doc-field-header {
		border-top-width: 3px;
		border-bottom-width: 2px;
		border-color: #1d2327;
	}

	.doc-field-header__label {
		color: #000;
	}
}

/* ============================================
   Dark Mode Support
   ============================================ */

@media (prefers-color-scheme: dark) {
	body.admin-color-modern .doc-field-header {
		background: linear-gradient(180deg, #2c3338 0%, #1d2327 100%);
		border-bottom-color: #50575e;
		color: #f0f0f1;
	}

	body.admin-color-modern .doc-field-header__label {
		color: #f0f0f1;
	}

	body.admin-color-modern .doc-field-header__hint {
		color: #a7aaad;
	}

	body.admin-color-modern .doc-field-separator {
		border-top-color: #50575e;
	}
}

/* ============================================
   Responsive
   ============================================ */

@media screen and (max-width: 782px) {
	.doc-field-header {
		padding: 8px 12px;
		font-size: 12px;
	}

	.doc-field-header__icon {
		width: 18px;
		height: 18px;
		font-size: 9px;
	}

	.doc-field-header__label {
		font-size: 12px;
	}

	.doc-field-header__hint {
		display: none;
	}
}
